<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="refresh" content="30">
  <title>가만 있으면 되는데</title>
  <script>
    function focusTextarea() {
      const textarea = document.getElementById("textarea");
      textarea.focus();
      replaceHangul();
    }

    function getRandomHangul() {
      const min = 0xAC00, max = 0xD7AF;
      const randomInt = Math.floor(Math.random() * (max - min + 1)) + min;
      return String.fromCharCode(randomInt);
    }

    function replaceHangul() {
      const textarea = document.getElementById("textarea");
      if (!initialInput) {
        const originalText = textarea.value;
        let newText = '';
        for (let i = 0; i < originalText.length; i++) {
          newText += getRandomHangul();
        }
        textarea.value = newText;
      }
      setTimeout(replaceHangul, 10);
    }

    let initialInput = true;

    function handleInput(event) {
      const textarea = event.target;
      if (initialInput && textarea.value !== '') {
        initialInput = false;
        replaceHangul();
      }
    }
     window.addEventListener("DOMContentLoaded", () => {
      const textarea = document.getElementById("textarea");
      // 모바일 화면(768px 이하)일 때 placeholder 변경
      if (window.innerWidth <= 768) {
        textarea.placeholder = "위의 노래 가사를 엄청 빨리 따라 쓰시오";
      }
    });
  </script>
  <style>
    html,
    body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      font-family: "NotoSansKR", sans-serif;
      font-size: 30px;
      font-weight: 200;
      line-height: 1.5;
      color: #000000;
      background-color: #FFFFFF;
    }

    body {
      display: flex;
      flex-direction: row;
      align-items: stretch;
      justify-content: flex-start;
    }

    .left,
    .right {
      flex: 1;
      width: 50vw;
      box-sizing: border-box;
      padding: 20px;
    }

    .left {
      border-right: 1px solid black;
    }

    textarea {
      width: 100%;
      height: 80vh;
      font-size: 30px;
      font-weight: 800;
      border: none;
      outline: none;
      resize: none;
      font-family: "NotoSansKR", sans-serif;
    }

    textarea::placeholder {
      color: #000000;
      font-weight: 800;
      opacity: 1;
      font-family: "NotoSansKR", sans-serif;
    }

    @media (max-width: 768px) {
      body {
        flex-direction: column;
      }

      .left,
      .right {
        width: 100%;
        padding-left: 20px; 
        padding-right: 20px; 
      }

      .left {
        border-right: none;
        border-bottom: 1px solid black;
        flex: none;
        height: 300px;
        overflow-y: auto;
      }

      .right {
        flex: 1;
      }

      html,
      body {
        font-size: 23px;
      }

      textarea {
        font-size: 23px;
      }
    }
  </style>
</head>

<body onload="focusTextarea()">
  <div class="left" id="lyrics">
    가만 있으면 되는데<br>
    자꾸만 뭘 그렇게 할라 그래<br>
    가만 있으면 되는데<br>
    자꾸만 뭘 그렇게 할라 그래<br>
    가만 있으면 되는데<br>
    자꾸만 뭘 그렇게 할라 그래<br>
    가만 있으면 되는데<br>
    자꾸만 뭘 그렇게 할라 그래<br>
    가만 있으면 되는데<br>
    자꾸만 뭘 그렇게 할라 그래<br>
    가만 있으면 되는데<br>
    가만 있으면 되는데<br>
    가만 있으면 되는데<br>
    가만 있으면 되는데<br>
    가만 있으면 되는데<br>
    자꾸만 뭘 그렇게 할라 그래<br>
    <br>
  </div>
  <div class="right">
    <form>
      <textarea id="textarea" name="textarea" oninput="handleInput(event)"
        placeholder="왼쪽 노래 가사를 엄청 빨리 따라 쓰시오"></textarea>
    </form>
  </div>
</body>

</html>
